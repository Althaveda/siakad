/*SIAKAD UNCP Js Config*/
/*==========================================*/
/*Dev		=> Muhammad Dicky Hidayat Latif*/
/*Email		=> muh.dickyhidayat@gmail.com*/
/*==========================================*/

function getJSON(a,t){return JSON.parse($.ajax({type:"POST",url:a,data:t,dataType:"json",global:!1,async:!1,success:function(a){},error:function(){window.history.pushState(null,null,path),t.status_mhs_kls&&(1==t.status_mhs_kls?delay(function(){$(".status-mhs-"+t.id).bootstrapToggle("destroy"),$(".status-mhs-"+t.id).replaceWith("<input type='checkbox' class='check-status-mhs-kls status-mhs-"+t.id+"' value='"+t.id+"'/>"),$(".status-mhs-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger"})},500):delay(function(){$(".status-mhs-"+t.id).bootstrapToggle("destroy"),$(".status-mhs-"+t.id).replaceWith("<input type='checkbox' class='check-status-mhs-kls status-mhs-"+t.id+"' checked value='"+t.id+"'/>"),$(".status-mhs-"+t.id).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger"})},500)),swal({title:"Error",text:"Maaf, telah terjadi error pada server!",type:"error",timer:2e3})}}).responseText)}function getUrlVars(){for(var a,t=[],e=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),l=0;l<e.length;l++)a=e[l].split("="),t.push(a[0]),t[a[0]]=a[1];return t}function check_all(){$(".data_action").attr("checked",!0)}function modal_animated(a){var a=$("#myModal .modal-dialog, #myModal-sekolah .modal-dialog").attr("class","modal-dialog "+a+" animated")}function collapse(a){var t=$(a),e=t.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");t.hasClass("collapsed-box")?(t.find("i").removeClass("fa fa-plus").addClass("fa fa-minus"),e.slideDown(450,function(){t.removeClass("collapsed-box")})):(t.find("i").removeClass("fa fa-minus").addClass("fa fa-plus"),e.slideUp(450,function(){t.addClass("collapsed-box")}))}function collapse_box(a){var t=$(a),e=t.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");t.find(".box-header .fa-plus").removeClass("fa fa-plus").addClass("fa fa-minus"),e.slideDown(450,function(){t.removeClass("collapsed-box")})}function daftar_jadwal(a,t,e){var l=getJSON("http://"+host+path_home+"/action/ambil",{data:"daftar_jadwal_ptk",d:a,thn:t,all:e});collapse_box("#box-jadwal, #box-jadwal .box"),1==a&&$("#box-jadwal .box-title").html('<li class="fa fa-list"></li> Jadwal Mengajar Hari '+l.hari_i),""!=l.record_jadwal?($("table.tbl-data-jadwal").find("tbody").text(""),$("#box-jadwal .tahun-ajaran-jad").html('<li class="fa fa-book"></li> '+l.record_jadwal[0].thn_ajaran),$("#box-jadwal .jumlah-jadwal-jad").html('<li class="fa fa-list"></li> '+l.count_jadwal_ptk.count_ptk_jdl),$("#box-jadwal .jumlah-kls-jad").html('<li class="fa fa-building-o"></li> '+l.count_jadwal_ptk.count_ptk_kls),$.each(l.record_u,function(t,e){var s,i,n,d=1,r=1,o=1;$.each(l.record_kelas,function(t,m){if(1==o&&0==m.jenis_jdl||o==r&&0==m.jenis_jdl){c=' style="background-color:#f9f9f9;"';r++,r++}else var c="";e.jenis_jdl==m.jenis_jdl&&0==e.jenis_jdl?(s=m.semester+"/"+m.kelas,d=1,$.each(l.record_jadwal,function(t,l){if(null!=l.nama_mk&&""!=l.nama_mk||(l.nama_mk="-",l.jml_sks="-"),(i=l.semester+"/"+l.kelas)==s&&l.jenis_jdl==e.jenis_jdl){if(1!=a)var r='  <td class="text-center">'+l.hari_jdl+"</td>",o="  <td>"+l.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_pr+'</td>  <td class="text-center"><button class="btn btn-warning btn-sm view-kelas" value="'+l.jdl_in+'" title="Lihat daftar mahasiswa kelas '+l.semester+"/"+l.kelas+" mata kuliah "+l.nama_mk+'"><i class="fa fa-list"></i></button></td>';1==d?($("table.tbl-data-jadwal").find("tbody").append("<tr"+c+'>  <td rowspan="" class="kelas-row'+l.jdl_no+' text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+"</td>"+o+"</tr>"),n=l.jdl_no):$("table.tbl-data-jadwal").find("tbody").append("<tr"+c+">"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+"</td>"+o+"</tr>"),d++}}),$("table.tbl-data-jadwal .kelas-row"+n).attr("rowspan",d-1),o++):0!=e.jenis_jdl&&(s=m.semester+"/"+m.kelas,$.each(l.record_jadwal,function(t,l){if(null!=l.nama_mk&&""!=l.nama_mk||(l.nama_mk="-",l.jml_sks="-"),(i=l.semester+"/"+l.kelas)==s&&l.jenis_jdl==e.jenis_jdl){if(1!=a)var n="9",r='  <td class="text-center">'+l.hari_jdl+"</td>",o="  <td>"+l.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_pr+'</td>  <td class="text-center"><button class="btn btn-warning btn-sm view-kelas" value="'+l.jdl_in+'" title="Lihat daftar mahasiswa kelas '+l.semester+"/"+l.kelas+" mata kuliah "+l.nama_mk+'"><i class="fa fa-list"></i></button></td>';else n="5";1==d?$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td colspan="'+n+'" align="left"><b>Konsentrasi '+l.jenis_jdl+'</b></td></tr><tr>  <td rowspan="" class="text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+"</td>"+o+"</tr>"):$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td rowspan="" class="text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+"</td>"+o+"</tr>"),d++}}))})})):"-"!=l.c_thn_ajaran?1==a?$("table.tbl-data-jadwal tbody").html('<tr><td colspan="5" align="center">Untuk hari ini anda tidak memiliki jadwal mengajar</td></tr>'):$("table.tbl-data-jadwal tbody").html('<tr><td colspan="9" align="center">Untuk tahun akademik ini anda tidak memiliki jadwal mengajar</td></tr>'):1==a?$("table.tbl-data-jadwal tbody").html('<tr><td colspan="5" align="center">Untuk saat ini tidak ada tahun akademik yang diterapkan</td></tr>'):$("table.tbl-data-jadwal tbody").html('<tr><td colspan="9" align="center">Untuk saat ini tidak ada tahun akademik yang diterapkan</td></tr>')}function daftar_kelas_mhs(a){$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="6" align="center">Memproses Data</td></tr>');var t=getJSON("http://"+host+path_home+"/action/ambil",{kelas:a,data:"daftar_kelas_mhs"});if(""!=t.record_kelas){$("#box-kelas-mhs .box-body").is(":visible")?($("#box-kelas-mhs").find("div.overlay").fadeIn(),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},500)):($("#box-kelas-mhs").fadeIn(),collapse_box("#box-kelas-mhs"),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},100));var e;if($.each(t.record_kelas,function(a,t){$.each(t,function(a,t){null!=t&&""!=t||(t="-"),$(".detail-kelas .detail-kelas-"+a).text(t)}),0!=t.jenis_jdl&&$(".detail-kelas .detail-kelas-nama_mk").text(t.nama_mk+" (Konsentrasi "+t.jenis_jdl+")"),e=t.status_jdl}),""!=t.record_mhs){$(".tbl-daftar-kelas-mhs").find("tbody").text("");var l,s=1;$.each(t.record_mhs,function(a,i){if("L"==i.jk)n="Laki-Laki";else var n="Perempuan";l=1==i.status_mhs_kls?'<td class="text-center">Aktif</td>':'<td class="text-center">Tidak Aktif</td>',1==e&&"ptk"==t.data_kelas&&(l=1==i.status_mhs_kls?'<td class="text-center"><input type="checkbox" class="check-status-mhs-kls status-mhs-'+i.id_kelas+'" checked value="'+i.id_kelas+'"/></td>':'<td class="text-center"><input type="checkbox" class="check-status-mhs-kls status-mhs-'+i.id_kelas+'" value="'+i.id_kelas+'"/></td>'),$("table.tbl-daftar-kelas-mhs").find("tbody").append('<tr>  <td class="text-center">'+s+'</td>  <td class="text-center">'+i.nisn+"</td>  <td>"+i.nama+'</td>  <td class="text-center">'+n+'</td>  <td class="text-center">'+i.tahun_angkatan+"</td>  "+l+"</tr>"),s++})}else $(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="6" align="center">Untuk sekarang kelas ini belum memiliki mahasiswa</td></tr>')}else swal({title:"Info",text:"Kelas yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3});$(".check-status-mhs-kls").bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger",width:100})}function daftar_kls_d(a){var t=getJSON("http://"+host+path_home+"/action/ambil",{data:"daftar_kls_ptk",thn:a});collapse_box("#box-content, #box-content .box"),""!=t.record_jadwal?($("table.tbl-data-jadwal").find("tbody").text(""),$("#box-content .tahun-ajaran-jad").html('<li class="fa fa-book"></li> '+t.record_jadwal[0].thn_ajaran),$("#box-content .jumlah-jadwal-jad").html('<li class="fa fa-list"></li> '+t.count_jadwal_ptk.count_ptk_jdl),$("#box-content .jumlah-kls-jad").html('<li class="fa fa-building-o"></li> '+t.count_jadwal_ptk.count_ptk_kls),$.each(t.record_u,function(a,e){var l,s,i,n=1,d=1,r=1;$.each(t.record_kelas,function(a,o){if(1==r&&0==o.jenis_jdl||r==d&&0==o.jenis_jdl){m=' style="background-color:#f9f9f9;"';d++,d++}else var m="";e.jenis_jdl==o.jenis_jdl&&0==e.jenis_jdl?(l=o.semester+"/"+o.kelas,n=1,$.each(t.record_jadwal,function(a,t){if(null!=t.nama_mk&&""!=t.nama_mk||(t.nama_mk="-",t.jml_sks="-"),1==t.status_inp_nilai)d='  <td class="text-center"><button class="btn btn-info btn-sm view-nilai" value="'+t.jdl_in+'" title="Input nilai mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-edit"></i></button></td>';else var d='  <td class="text-center"><button class="btn btn-warning btn-sm view-nilai" value="'+t.jdl_in+'" title="Lihat nilai mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button></td>';(s=t.semester+"/"+t.kelas)==l&&t.jenis_jdl==e.jenis_jdl&&(1==n?($("table.tbl-data-jadwal").find("tbody").append("<tr"+m+'>  <td rowspan="" class="kelas-row'+t.jdl_no+' text-center">'+t.semester+"/"+t.kelas+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+"</td>  <td>"+t.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_pr+"</td>"+d+"</tr>"),i=t.jdl_no):$("table.tbl-data-jadwal").find("tbody").append("<tr"+m+">  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+"</td>  <td>"+t.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_pr+"</td>"+d+"</tr>"),n++)}),$("table.tbl-data-jadwal .kelas-row"+i).attr("rowspan",n-1),r++):0!=e.jenis_jdl&&(l=o.semester+"/"+o.kelas,$.each(t.record_jadwal,function(a,t){if(null!=t.nama_mk&&""!=t.nama_mk||(t.nama_mk="-",t.jml_sks="-"),1==t.status_inp_nilai)i='  <td class="text-center"><button class="btn btn-info btn-sm view-nilai" value="'+t.jdl_in+'" title="Input nilai mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-edit"></i></button></td>';else var i='  <td class="text-center"><button class="btn btn-warning btn-sm view-nilai" value="'+t.jdl_in+'" title="Lihat nilai mahasiswa kelas '+t.semester+"/"+t.kelas+" mata kuliah "+t.nama_mk+'"><i class="fa fa-list"></i></button></td>';(s=t.semester+"/"+t.kelas)==l&&t.jenis_jdl==e.jenis_jdl&&(1==n?$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td colspan="6" align="left"><b>Konsentrasi '+t.jenis_jdl+'</b></td></tr><tr>  <td rowspan="" class="text-center">'+t.semester+"/"+t.kelas+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+"</td>  <td>"+t.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_pr+"</td>"+i+"</tr>"):$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td rowspan="" class="text-center">'+t.semester+"/"+t.kelas+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+"</td>  <td>"+t.nama_prodi+'</td>  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+t.semester+"/"+t.kelas+'"></li> '+t.jml_pr+"</td>"+i+"</tr>"),n++)}))})})):"-"!=t.c_thn_ajaran?$("table.tbl-data-jadwal tbody").html('<tr><td colspan="6" align="center">Untuk tahun akademik ini anda tidak memiliki kelas didik</td></tr>'):$("table.tbl-data-jadwal tbody").html('<tr><td colspan="6" align="center">Untuk saat ini tidak ada tahun akademik yang diterapkan</td></tr>')}function view_nilai(a){$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="5" align="center">Memproses Data</td></tr>'),$(".tbl-daftar-kelas-mhs .pdk-nilai").show(),$(".btn-input-nilai").text(""),$("#box-kelas-mhs input[name=c_kelas]").val("");var t=getJSON("http://"+host+path_home+"/action/ambil",{kelas:a,data:"daftar_nilai_mhs"});if(""!=t.record_kelas)if($("#box-kelas-mhs .box-body").is(":visible")?($("#box-kelas-mhs").find("div.overlay").fadeIn(),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},500)):($("#box-kelas-mhs").fadeIn(),collapse_box("#box-kelas-mhs"),delay(function(){$("#box-kelas-mhs").find("div.overlay").fadeOut(),$("html, body").animate({scrollTop:$("#box-kelas-mhs").offset().top-55},800)},100)),$.each(t.record_kelas,function(a,t){$.each(t,function(a,t){null!=t&&""!=t||(t="-"),$(".detail-kelas .detail-kelas-"+a).text(t)}),0!=t.jenis_jdl&&$(".detail-kelas .detail-kelas-nama_mk").text(t.nama_mk+" (Konsentrasi "+t.jenis_jdl+")")}),""!=t.record_mhs){1==t.input?($(".btn-input-nilai").parent(".row-input").show(),$(".btn-input-nilai").html('<button id="update-nilai" class="btn btn-info"><i class="fa fa-edit"></i> Input Nilai</button>').attr("id","add-nilai"),$.each(t.record_mhs,function(a,t){if(""!=t.nilai_akhir)return $(".btn-input-nilai").html('<button id="update-nilai" class="btn btn-success"><i class="fa fa-edit"></i> Update Nilai</button>').attr("id","up-nilai")}),$("#box-kelas-mhs input[name=c_kelas]").val(t.record_kelas[0].jdl_i)):($(".btn-input-nilai").text(""),$(".btn-input-nilai").parent(".row-input").hide()),$(".tbl-daftar-kelas-mhs").find("tbody").text("");var e,l,s=1;$.each(t.record_mhs,function(a,i){""!=i.nilai_akhir?1==t.input?(e='<span class="pdk-nilai">'+i.nilai_akhir+'</span><input type="number" name="nilai_akhir[]" value="'+i.nilai_akhir+'" style="width:100%;display:none"><input type="hidden" name="id_kls_nilai[]" value="'+i.id_kelas+'">',l=i.pdk):(e=i.nilai_akhir,l=i.pdk):1==t.input?(e='<span class="pdk-nilai">-</span><input type="number" name="nilai_akhir[]" value="" style="width:100%;display:none"><input type="hidden" name="id_kls_nilai[]" value="'+i.id_kelas+'">',l="-"):(e="-",l="-"),$("table.tbl-daftar-kelas-mhs").find("tbody").append('<tr>  <td class="text-center">'+s+'</td>  <td class="text-center">'+i.nisn+"</td>  <td>"+i.nama+'</td>  <td class="text-center input-nilai">'+e+'</td>  <td class="text-center pdk-nilai">'+l+"</td></tr>"),s++})}else $(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="5" align="center">Untuk sekarang kelas ini belum memiliki mahasiswa</td></tr>');else swal({title:"Info",text:"Kelas yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3})}function detail_nilai(a){var t=getJSON("http://"+host+controller_path+"/action/ambil",{thn:a,data:"daftar_nilai_mhs"});if(""!=t.record_nilai){$(".tbl-nilai-mhs").find("tbody").text(""),$(".tahun-ajaran-ket").text(t.thn);var e=1;$.each(t.record_nilai,function(a,t){$(".tbl-nilai-mhs").find("tbody").append('<tr>  <td class="text-center">'+e+'</td>  <td class="text-center">'+t.kode_mk+"</td>  <td>"+t.nama_mk+'</td>  <td class="text-center">'+t.jml_sks+'</td>  <td class="text-center">'+t.hm+'</td>  <td class="text-center">'+t.am+'</td>  <td class="text-center">'+t.mutu+"</td></tr>"),e++}),$(".tbl-nilai-mhs").find("tbody").append('<tr>  <td colspan="3" class="text-right">Jumlah SKS</td>  <td class="text-center">'+t.sks+'</td>  <td colspan="2"></td>  <td class="text-center">'+t.mutu+"</td></tr>")}else"-"==t.thn?$(".tbl-nilai-mhs").find("tbody").html('<tr><td class="text-center" colspan="7">Untuk saat ini tidak tahun akademik yang diterapkan, silahkan pilih tahun akademik</td></tr>'):swal({title:"Info",text:"Tahun akademik yang anda pilih tidak terdaftar dalam database!",type:"info",timer:2e3})}function daftar_jadwal_mhs(a,t,e){var l=getJSON("http://"+host+path_home+"/action/ambil",{data:"daftar_jadwal_mhs",d:a,thn:t,all:e});collapse_box("#box-jadwal, #box-jadwal .box"),1==a&&$("#box-jadwal .box-title").html('<li class="fa fa-list"></li> Jadwal Kuliah Hari '+l.hari_i),""!=l.record_jadwal?($("table.tbl-data-jadwal").find("tbody").text(""),$("#box-jadwal .tahun-ajaran-jad").html('<li class="fa fa-book"></li> '+l.record_jadwal[0].thn_ajaran),$("#box-jadwal .jumlah-jadwal-jad").html('<li class="fa fa-list"></li> '+l.count_jadwal_ptk.count_ptk_jdl),$("#box-jadwal .jumlah-kls-jad").html('<li class="fa fa-building-o"></li> '+l.count_jadwal_ptk.count_ptk_kls),$.each(l.record_u,function(t,e){var s,i,n,d=1,r=1,o=1;$.each(l.record_kelas,function(t,m){if(1==o&&0==m.jenis_jdl||o==r&&0==m.jenis_jdl){c=' style="background-color:#f9f9f9;"';r++,r++}else var c="";e.jenis_jdl==m.jenis_jdl&&0==e.jenis_jdl?(s=m.semester+"/"+m.kelas,d=1,$.each(l.record_jadwal,function(t,l){if(null!=l.nama_mk&&""!=l.nama_mk||(l.nama_mk="-",l.jml_sks="-"),null!=l.nama_ptk&&""!=l.nama_ptk||(l.nama_ptk="-"),(i=l.semester+"/"+l.kelas)==s&&l.jenis_jdl==e.jenis_jdl){if(1!=a)var r='  <td class="text-center">'+l.hari_jdl+"</td>",o='  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_pr+'</td>  <td class="text-center"><button class="btn btn-warning btn-sm view-kelas" value="'+l.jdl_in+'" title="Lihat daftar mahasiswa kelas '+l.semester+"/"+l.kelas+" mata kuliah "+l.nama_mk+'"><i class="fa fa-list"></i></button></td>';1==d?($("table.tbl-data-jadwal").find("tbody").append("<tr"+c+'>  <td rowspan="" class="kelas-row'+l.jdl_no+' text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_ptk+"</td>"+o+"</tr>"),n=l.jdl_no):$("table.tbl-data-jadwal").find("tbody").append("<tr"+c+">"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_ptk+"</td>"+o+"</tr>"),d++}}),$("table.tbl-data-jadwal .kelas-row"+n).attr("rowspan",d-1),o++):0!=e.jenis_jdl&&(s=m.semester+"/"+m.kelas,$.each(l.record_jadwal,function(t,l){if(null!=l.nama_mk&&""!=l.nama_mk||(l.nama_mk="-",l.jml_sks="-"),(i=l.semester+"/"+l.kelas)==s&&l.jenis_jdl==e.jenis_jdl){if(1!=a)var n="9",r='  <td class="text-center">'+l.hari_jdl+"</td>",o='  <td class="text-center"><li class="fa fa-users" title="Jumlah mahasiswa kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_mhs+' <li class="fa fa-male" title="Jumlah mahasiswa laki-laki kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_lk+' <li class="fa fa-female" title="Jumlah mahasiswa perempuan kelas '+l.semester+"/"+l.kelas+'"></li> '+l.jml_pr+'</td>  <td class="text-center"><button class="btn btn-warning btn-sm view-kelas" value="'+l.jdl_in+'" title="Lihat daftar mahasiswa kelas '+l.semester+"/"+l.kelas+" mata kuliah "+l.nama_mk+'"><i class="fa fa-list"></i></button></td>';else n="6";1==d?$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td colspan="'+n+'" align="left"><b>Konsentrasi '+l.jenis_jdl+'</b></td></tr><tr>  <td rowspan="" class="text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_ptk+"</td>"+o+"</tr>"):$("table.tbl-data-jadwal").find("tbody").append('<tr>  <td rowspan="" class="text-center">'+l.semester+"/"+l.kelas+"</td>"+r+'  <td class="text-center">'+l.jam_mulai_jdl+" - "+l.jam_akhir_jdl+"</td>  <td>"+l.nama_mk+'</td>  <td class="text-center">'+l.jml_sks+'</td>  <td class="text-center">'+l.ruang+"</td>  <td>"+l.nama_ptk+"</td>"+o+"</tr>"),d++}}))})})):"-"!=l.c_thn_ajaran?1==a?$("table.tbl-data-jadwal tbody").html('<tr><td colspan="6" align="center">Untuk hari ini anda tidak memiliki jadwal kuliah</td></tr>'):$("table.tbl-data-jadwal tbody").html('<tr><td colspan="9" align="center">Untuk tahun akademik ini anda tidak memiliki jadwal kuliah</td></tr>'):1==a?$("table.tbl-data-jadwal tbody").html('<tr><td colspan="6" align="center">Untuk saat ini tidak ada tahun akademik yang diterapkan</td></tr>'):$("table.tbl-data-jadwal tbody").html('<tr><td colspan="9" align="center">Untuk saat ini tidak ada tahun akademik yang diterapkan</td></tr>')}function chart_ptk(a){var t=$("#pieChart-data-ptk").get(0).getContext("2d"),e={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,responsive:!0,maintainAspectRatio:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>',tooltipTemplate:"<%=label%> : <%=value %> Orang"};new Chart(t).Pie(a,e)}function detail_akademik_mhs(){var a=getJSON("http://"+host+controller_path+"/action/ambil",{data:"riwayat_akademik_mhs"});if(""!=a.record_akademik){$(".tbl-riwayat-studi-mhs, .tbl-riwayat-kuliah-mhs").find("tbody").text("");var t,e=1,l=1;$.each(a.record_akademik,function(a,s){if($(".tbl-riwayat-studi-mhs").find("tbody").append('<tr>  <td class="text-center">'+e+'</td>  <td class="text-center">'+s.thn_ajaran_jdl+'</td>  <td class="text-center">'+s.kode_mk+"</td>  <td>"+s.nama_mk+'</td>  <td class="text-center">'+s.jml_sks+"</td></tr>"),e++,"Aktif"==s.status_aktif_mhs&&s.statik_aktif_mhs>=50)i='<button type="button" class="btn btn-success btn-sm" style="width:100px">  <b><i class="fa fa-check-circle"></i> Aktif</b></button>';else var i='<button type="button" class="btn btn-danger btn-sm" style="width:100px">  <b><i class="fa fa-times"></i> Tidak Aktif</b></button>';s.thn_ajaran_jdl!=t&&($(".tbl-riwayat-kuliah-mhs").find("tbody").append('<tr>  <td class="text-center">'+l+'</td>  <td class="text-center">'+s.thn_ajaran_jdl+'</td>  <td class="text-center">'+i+'</td>  <td class="text-center">'+s.total_sks+"</td></tr>"),l++,t=s.thn_ajaran_jdl)})}else $(".tbl-riwayat-kuliah-mhs").find("tbody").html('<tr>  <td colspan="4" align="center">Untuk saat ini, anda belum memiliki riwayat kuliah</td></tr>'),$(".tbl-riwayat-studi-mhs").find("tbody").html('<tr>  <td colspan="5" align="center">Untuk saat ini, anda belum memiliki riwayat studi</td></tr>')}var path=window.location.pathname,host=window.location.hostname,delay=function(){var a=0;return function(t,e){clearTimeout(a),a=setTimeout(t,e)}}();if(path==beranda_mhs_path+"/data_mhs"||path==beranda_mhs_path+"/data_jadwal"||path==beranda_mhs_path+"/nilai_mhs")var controller_path=beranda_mhs_path;else if(path==beranda_ptk_path+"/data_tenaga_pendidik"||path==beranda_ptk_path+"/jadwal_mengajar"||path==beranda_ptk_path+"/nilai_mhs")var controller_path=beranda_ptk_path;$(function(){var a=user_last_online.split("/");if($(".content-wrapper").LoadingOverlay("show",{color:"rgba(255, 255, 255, 2)",fade:[500,1e3],zIndex:1e3}),$(window).bind("load",function(){$(".content-wrapper").LoadingOverlay("hide")}),$(".control-panel-data").mousewheel(function(a,t){a.preventDefault(),this.scrollLeft-=40*t}),$(window).resize(function(){$(window).width()>980&&($(".box-profile .profil-kompetensi").text().length>20&&$(".box-profile .profil-kompetensi").removeClass("pull-right").css("margin-bottom","0px"),$(".box-profile .profil-jenjang").text().length>12&&$(".box-profile .profil-jenjang").removeClass("pull-right").css("margin-bottom","0px"),$(".box-profile .profil-kelas-didik").text().length>22&&$(".box-profile .profil-kelas-didik").removeClass("pull-right").css("margin-bottom","0px")),$(window).width()>1062&&$(".box-profile .profil-jenjang").addClass("pull-right"),($(window).width()<=1062||$(window).width()<=1342)&&$(".box-profile .profil-jenjang").removeClass("pull-right").css("margin-bottom","0px"),$(window).width()<=980&&($(".box-profile .profil-kompetensi").addClass("pull-right"),$(".box-profile .profil-jenjang").addClass("pull-right"),$(".box-profile .profil-kelas-didik").addClass("pull-right")),$(window).width()}),moment.locale("id"),$("#user-widget-detail small").text("Terakhir kali login "+moment(a[0]).fromNow()),"/siakad-uncp/"==path&&("ptk"==a[1]?(daftar_jadwal(!0),chart_ptk((l=getJSON("http://"+host+path_home+"/action/ambil",{data:"ptk"})).canvas),l.pd.length>4?$(".grafik-ptk ul.daftar-pd").css("height","163px"):$(".grafik-ptk ul.daftar-pd").css("height",""),$(".grafik-ptk ul.daftar-pd").text(""),$.each(l.pd,function(a,t){$(".grafik-ptk ul.daftar-pd").append("<li><a>"+t.nama_prodi+" ("+t.jenjang_prodi+')<span class="pull-right badge" style="background-color:'+t.color_detail+'">'+t.statik_ptk+"%</span></a></li>")})):"mhs"==a[1]&&daftar_jadwal_mhs(!0)),path==path_profil_pt){var t=getJSON("http://"+host+path_home+"/action/ambil",{data:"data_identitas_pt"});""==t.data?$("#tab-identitas-pt .dl-horizontal dd").text("-"):$.each(t.data,function(a,t){$.each(t,function(a,t){""==t&&(t="-"),"rt"!=a&&"rw"!=a||$("#tab-identitas-pt ."+a).text(t),$("#tab-identitas-pt dd."+a).text(t)})})}if(path==controller_path+"/data_mhs"){$("#box-siswa div.overlay").fadeOut();var e=getJSON("http://"+host+controller_path+"/action/ambil",{data:"data_mhs"});""!=e.record_mhs?(detail_akademik_mhs(),$.each(e.record_mhs,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t||(t="-"),"jk"==a&&"L"==t?t="Laki - Laki":"jk"==a&&"P"==t&&(t="Perempuan"),$(".box-profile .profil-"+a).text(t),$("#detail-"+a).text(t)})})):$("#detail-siswa dl dd").text("-")}if(path==controller_path+"/data_jadwal"&&daftar_jadwal_mhs(),path==controller_path+"/nilai_mhs"&&($("#box-content div.overlay, #box-nilai div.overlay").fadeOut(),"ptk"==a[1]?daftar_kls_d():"mhs"==a[1]&&detail_nilai()),path==controller_path+"/data_tenaga_pendidik"){$("#box-ptk div.overlay").fadeOut();var l=getJSON("http://"+host+controller_path+"/action/ambil",{data:"data_tenaga_pendidik"});""!=l.record_ptk?$.each(l.record_ptk,function(a,t){$.each(t,function(a,t){""!=t&&"0"!=t||(t="-"),"jk_ptk"==a&&"L"==t?t="Laki - Laki":"jk_ptk"==a&&"P"==t&&(t="Perempuan"),$(".box-profile .profil-"+a).text(t),$("#detail-"+a).text(t)})}):$("#detail-ptk dl dd").text("-")}path==controller_path+"/jadwal_mengajar"&&($("#box-jadwal div.overlay").fadeOut(),daftar_jadwal()),$(window).hashchange(function(){var a=$.param.fragment();if(0==a.search("tambah")){if(path.search("beranda_ptk/nilai_siswa")>0){var t=getUrlVars().kelas,e=getUrlVars().mata_pelajaran;$("#form-input").show(),$("#myModal .modal-title").text("Input Nilai Siswa"),$("#myModal #form-input input[name=kelas]").val(t),$("#myModal #form-input input[name=mata_pelajaran]").val(e),$("#myModal #form-input .input-nilai-ket").html("Input nilai siswa pada kelas&nbsp<strong>"+t+"</strong>&nbspdengan mata pelajaran&nbsp<strong>"+e+"</strong>&nbsp!")}modal_animated("zoomIn"),$("#myModal #form-input").attr("action","tambah"),$("#myModal #submit").text("Input Nilai"),$(".modal").addClass("modal-info"),$("#myModal").modal("show")}else"tampilkan"==a&&(path==beranda_mhs_path+"/nilai_siswa"&&$("#myModal #form-ambil-nilai").show(),modal_animated("zoomIn"),$("#myModal #form-input").attr("action","ambil"),$("#myModal #submit").text("Tampilkan Nilai"),$(".modal").addClass("modal-success"),$("#myModal").modal("show"))}),$(window).trigger("hashchange"),$("#myModal, #myModal-sekolah").on("show.bs.modal",function(a){$("body").addClass("modal-show")}),$("#myModal").on("hidden.bs.modal",function(a){modal_animated("zoomOutDown"),window.history.pushState(null,null,path),$("#myModal form").hide(),$("#rincian-siswa").hide(),$("#submit").show(),$("#batal").text("Batal"),$("#myModal #tamp-data, #myModal #delete-selected, #myModal #pindah-kelas").attr("id","submit"),$(".timepicker").val("14:08"),$(".modal").removeClass("modal-info"),$(".modal").removeClass("modal-success"),$(".modal").removeClass("modal-danger"),$(".modal").removeClass("modal-primary"),$(".modal").removeClass("modal-warning"),$("#myModal #form-input").find("input[type=text],input[type=number],input[type=email]").val(""),$('input[type="radio"]').iCheck("uncheck"),$("#myModal select.select2_thn_angkatan, #myModal select.select2_kelas, #myModal select#select2_wali_kelas").text(""),$("#myModal .select2").val(null).trigger("change"),$("#myModal .select2").prop("disabled",!1),$("#myModal").find(".has-error").removeClass("has-error"),$("#alert-place").text(""),$("#myModal #form-input .tab_ortu, #myModal #form-input .tab_wali").removeClass("active"),$("#myModal #tab_ortu, #myModal #tab_wali").removeClass("active"),$("#form-input .tab_ortu, #form-input .tab_wali").find("a").attr("aria-expanded","false"),$("#form-input .tab_siswa").addClass("active"),$("#form-input .tab_siswa").find("a").attr("aria-expanded","true"),$("#form-input #tab_siswa").addClass("active"),$("#myModal .modal-dialog").removeClass("modal-lg"),$("#myModal .data-message").hide(),$("#myModal .data-message .content-message").addClass("centered-content"),$("#myModal .data-message .content-message").html("Maaf, data yang anda cari tidak ditemukan")}),$("#myModal").on("hide.bs.modal",function(a){modal_animated("zoomOutDown"),$(".overflow-tab").scrollTop(0)}),$(".select2_jadwal").select2({placeholder:"Pilih tahun akademik",ajax:{url:"http://"+host+path_home+"/action/ambil",type:"post",dataType:"json",delay:450,data:function(a){return{value:a.term,page:a.page,data:"daftar_thn_ajaran"}},processResults:function(a,t){return t.page=t.page||1,{results:a.jadwal}}},minimumInputLength:1,language:"id",allowClear:!0,templateResult:function(a){if(a.loading)return a.text;var t=a.thn_ajaran_jdl.split("/"),e=t[0];if("1"==t[1])l="Ganjil";else var l="Genap";var s=$("<p style='margin-bottom:0px'>"+e+"/"+l+" "+a.nama_prodi+" ("+a.jenjang_prodi+")</p>");return void 0!=a.text?s:void 0}}),$(document).on("click",".show-about",function(a){a.preventDefault(),$("#about").modal("show")}),$("#box-jadwal .refresh-data").on("click",function(){$("#box-jadwal").find("div.overlay").fadeIn(),"ptk"==a[1]?($("table.tbl-data-jadwal").find("tbody").html('<tr><td class="text-center" colspan="5">Memproses Data</td></tr>'),delay(function(){daftar_jadwal(!0),$("#box-jadwal").find("div.overlay").fadeOut()},300)):"mhs"==a[1]&&($("table.tbl-data-jadwal").find("tbody").html('<tr><td class="text-center" colspan="6">Memproses Data</td></tr>'),delay(function(){daftar_jadwal_mhs(!0),$("#box-jadwal").find("div.overlay").fadeOut()},300))}),$(".tamp-jadwal").on("click",function(t){t.preventDefault();var e=$(".select2_jadwal").val();$("#box-jadwal div.overlay").fadeIn(),$("#box-kelas-mhs").slideUp(),delay(function(){$("#box-jadwal").find("div.overlay").fadeOut()},300),"ptk"==a[1]?daftar_jadwal(!1,e):"mhs"==a[1]&&daftar_jadwal_mhs(!1,e)}),$(".tamp-all-jadwal").on("click",function(t){t.preventDefault();var e=$(".select2_jadwal").val();$("#box-jadwal div.overlay").fadeIn(),$("#box-kelas-mhs").slideUp(),delay(function(){$("#box-jadwal").find("div.overlay").fadeOut()},300),"ptk"==a[1]?daftar_jadwal(!1,e,!0):"mhs"==a[1]&&daftar_jadwal_mhs(!1,e,!0)}),$(document).on("click",".view-kelas",function(){daftar_kelas_mhs($(this).val())}),$(document).on("click",".remove-kelas",function(){delay(function(){$(".tbl-daftar-kelas-mhs").find("tbody").html('<tr><td colspan="5" align="center">Silahkan pilih kelas</td></tr>')},1e3)}),$(".tamp-kls").on("click",function(a){a.preventDefault();var t=$(".select2_jadwal").val();$("#box-content div.overlay").fadeIn(),$("#box-kelas-mhs").slideUp(),delay(function(){$("#box-content").find("div.overlay").fadeOut()},300),daftar_kls_d(t)}),$(document).on("click",".view-nilai",function(){view_nilai($(this).val())}),$(document).on("click",".view-nilai",function(){view_nilai($(this).val())}),$(".tamp-nilai").on("click",function(a){a.preventDefault();var t=$(".select2_jadwal").val();$("#box-nilai div.overlay").fadeIn(),delay(function(){$("#box-nilai").find("div.overlay").fadeOut()},300),detail_nilai(t)}),$("#refresh-statik-ptk").on("click",function(){var a=getJSON("http://"+host+path_home+"/action/ambil",{data:"ptk"});collapse_box(".grafik-ptk"),$(".grafik-ptk .fa-refresh").addClass("fa-spin"),delay(function(){$(".grafik-ptk .fa-refresh").removeClass("fa-spin")},1050),$("#pieChart-data-ptk").replaceWith('<canvas id="pieChart-data-ptk" height="180"></canvas>'),chart_ptk(a.canvas),a.pd.length>4?$(".grafik-ptk ul.daftar-pd").css("height","163px"):$(".grafik-ptk ul.daftar-pd").css("height",""),$(".grafik-ptk ul.daftar-pd").text(""),$.each(a.pd,function(a,t){$(".grafik-ptk ul.daftar-pd").append("<li><a>"+t.nama_prodi+" ("+t.jenjang_prodi+')<span class="pull-right badge" style="background-color:'+t.color_detail+'">'+t.statik_ptk+"%</span></a></li>")})}),$(".verifikasi-data").on("click",function(a){a.preventDefault(),swal({type:"info",title:"Peringatan",text:"Jika anda melakukan verifikasi data, maka data anda akan dinyatakan valid.",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check"></i> Verifikasi Data',cancelButtonText:'<i class="fa fa-times"></i> Batal'}).then(function(){swal({title:"Data Terverifikasi",type:"success",timer:2e3}),delay(function(){window.location.href="http://"+host+controller_path+"/verifikasi_data/true"},500)})}),$(".verifikasi-salah").on("click",function(a){a.preventDefault(),swal({type:"info",title:"Peringatan",text:"Apakah anda yakin data ini masih terdapat data yang tidak valid?.",showCancelButton:!0,confirmButtonText:'<i class="fa fa-check"></i> Iya',cancelButtonText:'<i class="fa fa-times"></i> Batal'}).then(function(){swal({title:"Verifikasi Data Diteruskan Ke Admin",type:"success",timer:2e3}),delay(function(){window.location.href="http://"+host+controller_path+"/verifikasi_data/false"},500)})}),$(document).on("click","#update-nilai",function(){$(".tbl-daftar-kelas-mhs .pdk-nilai").hide(),$("#form-input").attr("action","tambah"),$(".btn-input-nilai").html('<button id="submit" class="btn btn-info"><i class="fa fa-save"></i> Simpan</button> <button id="cancel-input-nilai" class="btn btn-danger"><i class="fa fa-times"></i> Batal</button>'),$(".tbl-daftar-kelas-mhs input[type=number]").show()}),$(document).on("click","#cancel-input-nilai",function(){$(".tbl-daftar-kelas-mhs .pdk-nilai").show(),"add-nilai"==$(".btn-input-nilai").attr("id")?$(".btn-input-nilai").html('<button id="update-nilai" class="btn btn-info"><i class="fa fa-edit"></i> Input Nilai</button>'):"up-nilai"==$(".btn-input-nilai").attr("id")&&$(".btn-input-nilai").html('<button id="update-nilai" class="btn btn-success"><i class="fa fa-edit"></i> Update Nilai</button>'),$("#form-input").attr("action",""),$(".tbl-daftar-kelas-mhs input[type=number]").hide()}),$('a[href="#detail_riwayat_kuliah"], a[href="#detail_riwayat_studi"]').on("click",function(){delay(function(){detail_akademik_mhs()},100)}),$(document).on("change",".check-status-mhs-kls",function(){var a=$(this).prop("checked"),t=$(this).attr("value"),e=getJSON("http://"+host+controller_path+"/action/update_status",{id:t,status_mhs_kls:a});"success"!=e.status&&("failed"==e.status?swal({title:"Error",text:"Gagal merubah status aktif mahasiswa",type:"error",timer:2e3}):"failed_thn"==e.status&&swal({title:"Error",text:"Gagal merubah status aktif mahasiswa karena tahun akademik kelas ini ditutup",type:"error",timer:2e3}),1==a?delay(function(){$(".status-mhs-"+t).bootstrapToggle("destroy"),$(".status-mhs-"+t).replaceWith("<input type='checkbox' class='check-status-mhs-kls status-mhs-"+t+"' value='"+t+"'/>"),$(".status-mhs-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger"})},500):delay(function(){$(".status-mhs-"+t).bootstrapToggle("destroy"),$(".status-mhs-"+t).replaceWith("<input type='checkbox' class='check-status-mhs-kls status-mhs-"+t+"' checked value='"+t+"'/>"),$(".status-mhs-"+t).bootstrapToggle({on:'<i class="fa fa-check-circle"></i> Aktif',off:'<i class="fa fa-ban"></i> Tidak Aktif',size:"small",onstyle:"success",offstyle:"danger"})},500))}),$("#box-jadwal .select2_jadwal, #box-nilai .select2_jadwal").on("change",function(){null!=$(this).val()?$(".tamp-jadwal, .tamp-all-jadwal, .tamp-nilai").removeClass("disabled"):$(".tamp-jadwal, .tamp-all-jadwal, .tamp-nilai").addClass("disabled")}),$("#box-content .select2_jadwal").on("change",function(){null!=$(this).val()?$(".tamp-kls").removeClass("disabled"):$(".tamp-kls").addClass("disabled")}),$(document).on("click","#submit",function(a){a.preventDefault(),$("#form-input").find(".has-error").removeClass("has-error");var t=$("#form-input").attr("action"),e=$("#form-input").serialize();$("#alert-place").text("");$("#form-input input[name=data]").val(),getUrlVars();$.ajax("http://"+host+controller_path+"/action/"+t,{dataType:"json",type:"POST",data:e,success:function(a){if("tambah"==t)if("success"==a.status)"nilai_mhs"==a.data&&view_nilai(a.kls),swal({title:"Data Berhasil Disimpan",type:"success",timer:1e3});else if("failed"==a.status){var e="";$.each(a.errors,function(a,t){e+='<li class="text-center">'+t+"</li>"}),swal({title:"Gagal!",type:"error",html:e})}else swal({title:"Terjadi Error",type:"error"})}})})});